!function($){$.fn.ib_emailSettings=function(method){var _form,_lockClick,defaults={data:"",type:"template",spinner:'<span class="fa fa-spinner fa-pulse fa-2x"></span>',form_selector:"#ib_settings_form",contact_forms:[]},methods={init:function(options){_form=_ibThis.find(settings.form_selector),$("#ib_send-text-email").click(function(e){e.preventDefault(),methods.sendTestEmail($(this).parent())})},sendTestEmail:function($container){if(!_lockClick){_lockClick=!0,$container.addClass("sending");var post=_form.serialize()+"&nonce="+ibEmailAjax.ibEmailNonce+"&action=ib_send_test_email";$.ajax({url:ibEmailAjax.ajaxurl,dataType:"json",type:"post",data:post,success:function(response,status){$container.removeClass("sending"),_lockClick=!1,$.alert({title:response.title,content:response.message,confirmButtonClass:"ib_save"})},error:function(jqXhr,textStatus,errorThrown){console.log(errorThrown),$container.removeClass("sending"),_lockClick=!1}})}}},settings=$.extend({},defaults,method);return methods[method]?(_ibThis=$(this),methods[method].apply(this,Array.prototype.slice.call(arguments,1))):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.ib_ctaLists"):this.each(function(){_ibThis=$(this),methods.init()})}}(jQuery);