function NoJQueryPostMessageMixin(g,a){var b,h,e,d,f,c=1;return window.postMessage?(window.addEventListener?(b=function(i){window.addEventListener("message",i,!1)},h=function(i){window.removeEventListener("message",i,!1)}):(b=function(i){window.attachEvent("onmessage",i)},h=function(i){window.detachEvent("onmessage",i)}),this[g]=function(i,k,j){k&&j.postMessage(i,k.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))},this[a]=function(k,j,i){return e&&(h(e),e=null),!!k&&void(e=b(function(l){switch(Object.prototype.toString.call(j)){case"[object String]":if(j!==l.origin)return!1;break;case"[object Function]":if(j(l.origin))return!1}k(l)}))}):(this[g]=function(i,k,j){k&&(j.location=k.replace(/#.*$/,"")+"#"+ +new Date+c++ +"&"+i)},this[a]=function(k,j,i){d&&(clearInterval(d),d=null),k&&(i="number"==typeof j?j:"number"==typeof i?i:100,d=setInterval(function(){var m=document.location.hash,l=/^#?\d+&/;m!==f&&l.test(m)&&(f=m,k({data:m.replace(l,"")}))},i))}),this}